:original_name: cbr_04_0018.html

.. _cbr_04_0018:

Category of CBR Actions
=======================

Task
----

+------------------------+--------------------------------------------------------+----------------+-------------+
| Permission             | API                                                    | Action         | IAM Project |
+========================+========================================================+================+=============+
| Querying the task list | GET /v3/{project_id}/operation-logs                    | cbr:tasks:list | Y           |
+------------------------+--------------------------------------------------------+----------------+-------------+
| Querying a single task | GET /v3/{project_id}/operation-logs/{operation_log_id} | cbr:tasks:get  | Y           |
+------------------------+--------------------------------------------------------+----------------+-------------+

Protection
----------

+-------------------------------------------+------------------------------------------------------------------------------+----------------------------------------+-----------------------+-------------+
| Permission                                | API                                                                          | Action                                 | Dependencies          | IAM Project |
+===========================================+==============================================================================+========================================+=======================+=============+
| Querying protectable resources            | GET /v3/{project_id}/protectables/{protectable_type}/instances               | cbr:vaults:listProtectables            | ecs:cloudServers:list | Y           |
|                                           |                                                                              |                                        |                       |             |
|                                           |                                                                              |                                        | evs:volumes:list      |             |
+-------------------------------------------+------------------------------------------------------------------------------+----------------------------------------+-----------------------+-------------+
| Querying a specified protectable resource | GET /v3/{project_id}/protectables/{protectable_type}/instances/{instance_id} | cbr:vaults:getProtectables             | ecs:cloudServers:list | Y           |
|                                           |                                                                              |                                        |                       |             |
|                                           |                                                                              |                                        | evs:volumes:list      |             |
+-------------------------------------------+------------------------------------------------------------------------------+----------------------------------------+-----------------------+-------------+
| Querying the replication capability       | GET /v3/{project_id}/replication-capabilities                                | cbr:backups:queryReplicationCapability | ``-``                 | Y           |
+-------------------------------------------+------------------------------------------------------------------------------+----------------------------------------+-----------------------+-------------+

.. _cbr_04_0018__section16923143918296:

Vault
-----

+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Permission                     | API                                                      | Action                      | Dependencies            | IAM Project |
+================================+==========================================================+=============================+=========================+=============+
| Applying a policy to a vault   | POST /v3/{project_id}/vaults/{vault_id}/associatepolicy  | cbr:vaults:associatePolicy  | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Querying a specified vault     | GET /v3/{project_id}/vaults/{vault_id}                   | cbr:vaults:get              | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Modifying a vault              | PUT /v3/{project_id}/vaults/{vault_id}                   | cbr:vaults:update           | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Deleting a vault               | DELETE /v3/{project_id}/vaults/{vault_id}                | cbr:vaults:delete           | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Dissociating resources         | POST /v3/{project_id}/vaults/{vault_id}/removeresources  | cbr:vaults:removeResources  | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Associating resources          | POST /v3/{project_id}/vaults/{vault_id}/addresources     | cbr:vaults:addResources     | ecs:cloudServers:list   | Y           |
|                                |                                                          |                             |                         |             |
|                                |                                                          |                             | evs:volumes:list        |             |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Querying the vault list        | GET /v3/{project_id}/vaults                              | cbr:vaults:list             | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Creating a vault               | POST /v3/{project_id}/vaults                             | cbr:vaults:create           | ecs:cloudServers:list   | Y           |
|                                |                                                          |                             |                         |             |
|                                |                                                          |                             | evs:volumes:list        |             |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Removing a policy from a vault | POST /v3/{project_id}/vaults/{vault_id}/dissociatepolicy | cbr:vaults:dissociatePolicy | ``-``                   | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+
| Migrating a resource           | POST /v3/{project_id}/vaults/{vault_id}/migrateresources | cbr:vaults:migrateResources | cbr:vaults:addResources | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-------------------------+-------------+

Restore Point
-------------

+-----------------------------+---------------------------------------------+----------------------+-----------------------+-------------+
| Permission                  | API                                         | Action               | Dependencies          | IAM Project |
+=============================+=============================================+======================+=======================+=============+
| Replicating a restore point | POST /v3/{project_id}/checkpoints/replicate | cbr:vaults:replicate | ``-``                 | Y           |
+-----------------------------+---------------------------------------------+----------------------+-----------------------+-------------+
| Creating a restore point    | POST /v3/{project_id}/checkpoints           | cbr:vaults:backup    | ecs:cloudServers:list | Y           |
|                             |                                             |                      |                       |             |
|                             |                                             |                      | evs:volumes:list      |             |
+-----------------------------+---------------------------------------------+----------------------+-----------------------+-------------+

.. _cbr_04_0018__section86041763166:

Backup Sharing
--------------

+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+
| Permission                        | API                                                      | Action            | IAM Project     |
+===================================+==========================================================+===================+=================+
| Creating a share member           | POST /v3/{project_id}/backups/{backup_id}/members        | cbr:member:create | Y               |
+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+
| Updating the share member status  | PUT                                                      | cbr:member:update | Y               |
|                                   |                                                          |                   |                 |
|                                   | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |                 |
+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+
| Querying a specified share member | GET                                                      | cbr:member:get    | Y               |
|                                   |                                                          |                   |                 |
|                                   | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |                 |
+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+
| Querying the share member list    | GET                                                      | cbr:member:list   | Y               |
|                                   |                                                          |                   |                 |
|                                   | /v3/{project_id}/backups/{backup_id}/members             |                   |                 |
+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+
| Deleting a share member           | DELETE                                                   | cbr:member:delete | Y               |
|                                   |                                                          |                   |                 |
|                                   | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |                 |
+-----------------------------------+----------------------------------------------------------+-------------------+-----------------+

Backup
------

+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+
| Permission                  | API                                                 | Action                | Dependencies          | IAM Project |
+=============================+=====================================================+=======================+=======================+=============+
| Listing backups             | GET /v3/{project_id}/backups                        | cbr:backups:list      | ``-``                 | Y           |
+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+
| Querying a specified backup | GET /v3/{project_id}/backups/{backup_id}            | cbr:backups:get       | ``-``                 | Y           |
+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+
| Deleting a backup           | DELETE /v3/{project_id}/backups/{backup_id}         | cbr:backups:delete    | ``-``                 | Y           |
+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+
| Restoring from a backup     | POST /v3/{project_id}/backups/{backup_id}/restore   | cbr:backups:restore   | ecs:cloudServers:list | Y           |
|                             |                                                     |                       |                       |             |
|                             |                                                     |                       | evs:volumes:list      |             |
+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+
| Replicating a backup        | POST /v3/{project_id}/backups/{backup_id}/replicate | cbr:backups:replicate | ``-``                 | Y           |
+-----------------------------+-----------------------------------------------------+-----------------------+-----------------------+-------------+

Policy
------

+-----------------------------+----------------------------------------------+---------------------+-------------+
| Permission                  | API                                          | Action              | IAM Project |
+=============================+==============================================+=====================+=============+
| Querying the policy list    | GET /v3/{project_id}/policies                | cbr:policies:list   | Y           |
+-----------------------------+----------------------------------------------+---------------------+-------------+
| Creating a policy           | POST /v3/{project_id}/policies               | cbr:policies:create | Y           |
+-----------------------------+----------------------------------------------+---------------------+-------------+
| Querying a specified policy | GET /v3/{project_id}/policies/{policy_id}    | cbr:policies:get    | Y           |
+-----------------------------+----------------------------------------------+---------------------+-------------+
| Updating a policy           | PUT /v3/{project_id}/policies/{policy_id}    | cbr:policies:update | Y           |
+-----------------------------+----------------------------------------------+---------------------+-------------+
| Deleting a policy           | DELETE /v3/{project_id}/policies/{policy_id} | cbr:policies:delete | Y           |
+-----------------------------+----------------------------------------------+---------------------+-------------+

Tag
---

+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Permission                                        | API                                                   | Action                            | IAM Project |
+===================================================+=======================================================+===================================+=============+
| Querying the vault resources                      | POST /v3/{project_id}/vault/resource_instances/action | cbr:vaults:listResourceInstances  | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Batch adding or deleting tags of a vault resource | POST /v3/{project_id}/vault/{vault_id}/tags/action    | cbr:vaults:bulkCreateOrDeleteTags | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Adding a tag to a vault resource                  | POST /v3/{project_id}/vault/{vault_id}/tags           | cbr:vaults:setTags                | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Deleting a tag of a vault resource                | DELETE /v3/{project_id}/vault/{vault_id}/tags/{key}   | cbr:vaults:deleteTags             | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Querying tags of a vault resource                 | GET /v3/{project_id}/vault/{vault_id}/tags            | cbr:vaults:getTags                | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
| Querying tags of a vault project                  | GET /v3/{project_id}/vault/tags                       | cbr:vaults:listProjectTags        | Y           |
+---------------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+
