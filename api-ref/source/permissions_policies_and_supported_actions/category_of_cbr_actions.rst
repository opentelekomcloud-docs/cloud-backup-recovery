:original_name: cbr_04_0018.html

.. _cbr_04_0018:

Category of CBR Actions
=======================

Task
----

+------------------------+--------------------------------------------------------+----------------+-------------+
| Permission             | API                                                    | Action         | IAM Project |
+========================+========================================================+================+=============+
| Querying the task list | GET /v3/{project_id}/operation-logs                    | cbr:tasks:list | Y           |
+------------------------+--------------------------------------------------------+----------------+-------------+
| Querying a single task | GET /v3/{project_id}/operation-logs/{operation_log_id} | cbr:tasks:get  | Y           |
+------------------------+--------------------------------------------------------+----------------+-------------+

Protection
----------

+-------------------------------------------+------------------------------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Permission                                | API                                                                          | Action                      | Related Action        | IAM Project |
+===========================================+==============================================================================+=============================+=======================+=============+
| Querying protectable resources            | GET /v3/{project_id}/protectables/{protectable_type}/instances               | cbr:vaults:listProtectables | ecs:cloudServers:list | Y           |
|                                           |                                                                              |                             |                       |             |
|                                           |                                                                              |                             | evs:volumes:list      |             |
+-------------------------------------------+------------------------------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Querying a specified protectable resource | GET /v3/{project_id}/protectables/{protectable_type}/instances/{instance_id} | cbr:vaults:getProtectables  | ecs:cloudServers:list | Y           |
|                                           |                                                                              |                             |                       |             |
|                                           |                                                                              |                             | evs:volumes:list      |             |
+-------------------------------------------+------------------------------------------------------------------------------+-----------------------------+-----------------------+-------------+

.. _cbr_04_0018__section16923143918296:

Vault
-----

+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Permission                     | API                                                      | Action                      | Related Action        | IAM Project |
+================================+==========================================================+=============================+=======================+=============+
| Applying a policy to a vault   | POST /v3/{project_id}/vaults/{vault_id}/associatepolicy  | cbr:vaults:associatePolicy  | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Querying a specified vault     | GET /v3/{project_id}/vaults/{vault_id}                   | cbr:vaults:get              | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Modifying a vault              | PUT /v3/{project_id}/vaults/{vault_id}                   | cbr:vaults:update           | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Deleting a vault               | DELETE /v3/{project_id}/vaults/{vault_id}                | cbr:vaults:delete           | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Removing resources             | POST /v3/{project_id}/vaults/{vault_id}/removeresources  | cbr:vaults:removeResources  | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Associating resources          | POST /v3/{project_id}/vaults/{vault_id}/addresources     | cbr:vaults:addResources     | ecs:cloudServers:list | Y           |
|                                |                                                          |                             |                       |             |
|                                |                                                          |                             | evs:volumes:list      |             |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Querying the vault list        | GET /v3/{project_id}/vaults                              | cbr:vaults:list             | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Creating a vault               | POST /v3/{project_id}/vaults                             | cbr:vaults:create           | ecs:cloudServers:list | Y           |
|                                |                                                          |                             |                       |             |
|                                |                                                          |                             | evs:volumes:list      |             |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+
| Removing a policy from a vault | POST /v3/{project_id}/vaults/{vault_id}/dissociatepolicy | cbr:vaults:dissociatePolicy | ``-``                 | Y           |
+--------------------------------+----------------------------------------------------------+-----------------------------+-----------------------+-------------+

Restore Point
-------------

+--------------------------+-----------------------------------+-------------------+-----------------------+-------------+--------------------+
| Permission               | API                               | Action            | Related Action        | IAM Project | Enterprise Project |
+==========================+===================================+===================+=======================+=============+====================+
| Creating a restore point | POST /v3/{project_id}/checkpoints | cbr:vaults:backup | ecs:cloudServers:list | Y           | Y                  |
|                          |                                   |                   |                       |             |                    |
|                          |                                   |                   | evs:volumes:list      |             |                    |
+--------------------------+-----------------------------------+-------------------+-----------------------+-------------+--------------------+

.. _cbr_04_0018__section86041763166:

Backup Sharing
--------------

+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+
| Permission                            | API                                                      | Action            | IAM Project | Enterprise Project |
+=======================================+==========================================================+===================+=============+====================+
| Adding a share member                 | POST /v3/{project_id}/backups/{backup_id}/members        | cbr:member:create | Y           | Y                  |
+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+
| Updating the share member status      | PUT                                                      | cbr:member:update | Y           | Y                  |
|                                       |                                                          |                   |             |                    |
|                                       | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |             |                    |
+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+
| Querying details about a share member | GET                                                      | cbr:member:get    | Y           | Y                  |
|                                       |                                                          |                   |             |                    |
|                                       | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |             |                    |
+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+
| Obtaining the share member list       | GET                                                      | cbr:member:list   | Y           | Y                  |
|                                       |                                                          |                   |             |                    |
|                                       | /v3/{project_id}/backups/{backup_id}/members             |                   |             |                    |
+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+
| Deleting a specified share member     | DELETE                                                   | cbr:member:delete | Y           | Y                  |
|                                       |                                                          |                   |             |                    |
|                                       | /v3/{project_id}/backups/{backup_id}/members/{member_id} |                   |             |                    |
+---------------------------------------+----------------------------------------------------------+-------------------+-------------+--------------------+

Backup
------

+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+
| Permission                    | API                                               | Action              | Related Action        | IAM Project | Enterprise Project |
+===============================+===================================================+=====================+=======================+=============+====================+
| Querying all backups          | GET /v3/{project_id}/backups                      | cbr:backups:list    | ``-``                 | Y           | Y                  |
+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+
| Querying a specified backup   | GET /v3/{project_id}/backups/{backup_id}          | cbr:backups:get     | ``-``                 | Y           | Y                  |
+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+
| Deleting a backup             | DELETE /v3/{project_id}/backups/{backup_id}       | cbr:backups:delete  | ``-``                 | Y           | Y                  |
+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+
| Synchronizing a backup        | POST /v3/{project_id}/backups/sync                | cbr:backups:sync    | ``-``                 | Y           | Y                  |
+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+
| Restoring data using a backup | POST /v3/{project_id}/backups/{backup_id}/restore | cbr:backups:restore | ecs:cloudServers:list | Y           | Y                  |
|                               |                                                   |                     |                       |             |                    |
|                               |                                                   |                     | evs:volumes:list      |             |                    |
+-------------------------------+---------------------------------------------------+---------------------+-----------------------+-------------+--------------------+

Policy
------

+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+
| Permission               | API                                          | Action              | IAM Project | Enterprise Project |
+==========================+==============================================+=====================+=============+====================+
| Querying the policy list | GET /v3/{project_id}/policies                | cbr:policies:list   | Y           | Y                  |
+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+
| Creating a policy        | POST /v3/{project_id}/policies               | cbr:policies:create | Y           | Y                  |
+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+
| Querying a policy        | GET /v3/{project_id}/policies/{policy_id}    | cbr:policies:get    | Y           | Y                  |
+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+
| Modifying a policy       | PUT /v3/{project_id}/policies/{policy_id}    | cbr:policies:update | Y           | Y                  |
+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+
| Deleting a policy        | DELETE /v3/{project_id}/policies/{policy_id} | cbr:policies:delete | Y           | Y                  |
+--------------------------+----------------------------------------------+---------------------+-------------+--------------------+

Tag
---

+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Permission                                   | API                                                   | Action                            | IAM Project | Enterprise Project |
+==============================================+=======================================================+===================================+=============+====================+
| Querying the vault resource instances        | POST /v3/{project_id}/vault/resource_instances/action | cbr:vaults:listResourceInstances  | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Batch adding or deleting vault resource tags | POST /v3/{project_id}/vault/{vault_id}/tags/action    | cbr:vaults:bulkCreateOrDeleteTags | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Adding a vault resource tag                  | POST /v3/{project_id}/vault/{vault_id}/tags           | cbr:vaults:setTags                | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Deleting a vault resource tag                | DELETE /v3/{project_id}/vault/{vault_id}/tags/{key}   | cbr:vaults:deleteTags             | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Querying a vault resource tag                | GET /v3/{project_id}/vault/{vault_id}/tags            | cbr:vaults:getTags                | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
| Querying a vault project tag                 | GET /v3/{project_id}/vault/tags                       | cbr:vaults:listProjectTags        | Y           | Y                  |
+----------------------------------------------+-------------------------------------------------------+-----------------------------------+-------------+--------------------+
