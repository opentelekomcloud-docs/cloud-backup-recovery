:original_name: ListOpLogs.html

.. _ListOpLogs:

Querying the Task List
======================

Function
--------

This API is used to query the task list.

URI
---

GET /v3/{project_id}/operation-logs

.. table:: **Table 1** Path Parameters

   ========== ========= ====== ===========
   Parameter  Mandatory Type   Description
   ========== ========= ====== ===========
   project_id Yes       String Project ID
   ========== ========= ====== ===========

.. table:: **Table 2** Query Parameters

   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | Parameter       | Mandatory       | Type            | Description                                                                                        |
   +=================+=================+=================+====================================================================================================+
   | end_time        | No              | String          | End time of a task, in %YYYY-%mm-%ddT%HH:%MM:%SSZ format. For example, **2018-02-01T12:00:00Z**.   |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | limit           | No              | Integer         | Number of records displayed per page. The value must be a positive integer.                        |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | Minimum: **1**                                                                                     |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | offset          | No              | Integer         | Offset value. The value must be a positive integer.                                                |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | Minimum: **1**                                                                                     |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | operation_type  | No              | String          | Task type                                                                                          |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | Enumeration values:                                                                                |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **backup**                                                                                      |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **delete**                                                                                      |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **restore**                                                                                     |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **vault_delete**                                                                                |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **remove_resource**                                                                             |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **sync**                                                                                        |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | provider_id     | No              | String          | Backup provider ID, which specifies whether the backup object is a server or disk                  |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | resource_id     | No              | String          | Backup resource ID                                                                                 |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | resource_name   | No              | String          | Backup resource name                                                                               |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | start_time      | No              | String          | Start time of a task, in %YYYY-%mm-%ddT%HH:%MM:%SSZ format. For example, **2018-01-01T12:00:00Z**. |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | status          | No              | String          | Task status                                                                                        |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | Enumeration values:                                                                                |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **success**                                                                                     |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **skipped**                                                                                     |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **failed**                                                                                      |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **running**                                                                                     |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **timeout**                                                                                     |
   |                 |                 |                 |                                                                                                    |
   |                 |                 |                 | -  **waiting**                                                                                     |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | vault_id        | No              | String          | ID of the vault with which the target resource is associated                                       |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+
   | vault_name      | No              | String          | Name of the vault with which the target resource is associated                                     |
   +-----------------+-----------------+-----------------+----------------------------------------------------------------------------------------------------+

Request Parameters
------------------

.. table:: **Table 3** Request header parameters

   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter    | Mandatory | Type   | Description                                                                                                                                                         |
   +==============+===========+========+=====================================================================================================================================================================+
   | X-Auth-Token | Yes       | String | User token The token can be obtained by calling the IAM API used to obtain a user token. The value of **X-Subject-Token** in the response header is the user token. |
   +--------------+-----------+--------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Response Parameters
-------------------

**Status code: 200**

.. table:: **Table 4** Response body parameters

   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | Parameter             | Type                                                                     | Description                              |
   +=======================+==========================================================================+==========================================+
   | operation_logs        | Array of :ref:`OperationLog <listoplogs__response_operationlog>` objects | Task list                                |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | count                 | Integer                                                                  | Number of tasks                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | limit                 | Integer                                                                  | Number of records displayed on each page |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Minimum: **1**                           |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Maximum: **1000**                        |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Default: **1000**                        |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | offset                | Integer                                                                  | Offset where the query starts            |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Minimum: **0**                           |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Default: **0**                           |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+

.. _listoplogs__response_operationlog:

.. table:: **Table 5** OperationLog

   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | Parameter             | Type                                                         | Description                                                                       |
   +=======================+==============================================================+===================================================================================+
   | checkpoint_id         | String                                                       | Backup record ID                                                                  |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | created_at            | String                                                       | Creation time, for example, **2020-02-23T01:00:32Z**                              |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | ended_at              | String                                                       | Task end time, for example, **2020-02-23T01:00:32Z**                              |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | error_info            | :ref:`OpErrorInfo <listoplogs__response_operrorinfo>` object | Task error message                                                                |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | extra_info            | :ref:`OpExtraInfo <listoplogs__response_opextrainfo>` object | Task extension information                                                        |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | id                    | String                                                       | Task ID                                                                           |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | operation_type        | String                                                       | Task type                                                                         |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | Enumeration values:                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **backup**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **restore**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **delete**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **vault_delete**                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **remove_resource**                                                            |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | policy_id             | String                                                       | Policy ID                                                                         |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | project_id            | String                                                       | Project ID                                                                        |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | provider_id           | String                                                       | Backup provider ID, which specifies whether the backup object is a server or disk |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | started_at            | String                                                       | Task start time, for example, **2020-02-23T01:00:32Z**                            |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | status                | String                                                       | Task status                                                                       |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | Enumeration values:                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **success**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **skipped**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **failed**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **running**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **timeout**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **waiting**                                                                    |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | updated_at            | String                                                       | Modification time, for example, **2020-02-23T01:00:32Z**                          |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | vault_id              | String                                                       | ID of the vault with which the target resource is associated                      |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | vault_name            | String                                                       | Name of the vault with which the target resource is associated                    |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+

.. _listoplogs__response_operrorinfo:

.. table:: **Table 6** OpErrorInfo

   ========= ====== ================================================
   Parameter Type   Description
   ========= ====== ================================================
   code      String For details, see :ref:`Error Codes <errorcode>`.
   message   String Error message
   ========= ====== ================================================

.. _listoplogs__response_opextrainfo:

.. table:: **Table 7** OpExtraInfo

   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | Parameter        | Type                                                                                         | Description                                            |
   +==================+==============================================================================================+========================================================+
   | backup           | :ref:`OpExtendInfoBckup <listoplogs__response_opextendinfobckup>` object                     | Extended parameters of backup                          |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | common           | :ref:`OpExtendInfoCommon <listoplogs__response_opextendinfocommon>` object                   | Common parameters                                      |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | delete           | :ref:`OpExtendInfoDelete <listoplogs__response_opextendinfodelete>` object                   | Extended parameters of deletion                        |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | sync             | :ref:`OpExtendInfoSync <listoplogs__response_opextendinfosync>` object                       | Extended parameters of synchronization                 |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | remove_resources | :ref:`OpExtendInfoRemoveResources <listoplogs__response_opextendinforemoveresources>` object | Extended parameters of removing resources from a vault |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | resource         | :ref:`Resource <listoplogs__response_resource>` object                                       | Resource information                                   |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | restore          | :ref:`OpExtendInfoRestore <listoplogs__response_opextendinforestore>` object                 | Extended parameters of restoration                     |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | vault_delete     | :ref:`OpExtendInfoVaultDelete <listoplogs__response_opextendinfovaultdelete>` object         | Extended parameters of deleting a vault                |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+

.. _listoplogs__response_opextendinfobckup:

.. table:: **Table 8** OpExtendInfoBckup

   +-----------------------+-----------------------+------------------------------------+
   | Parameter             | Type                  | Description                        |
   +=======================+=======================+====================================+
   | backup_id             | String                | Backup ID                          |
   +-----------------------+-----------------------+------------------------------------+
   | backup_name           | String                | Backup name                        |
   +-----------------------+-----------------------+------------------------------------+
   | incremental           | String                | Whether incremental backup is used |
   |                       |                       |                                    |
   |                       |                       | Enumeration values:                |
   |                       |                       |                                    |
   |                       |                       | -  **"true"**                      |
   |                       |                       |                                    |
   |                       |                       | -  **"false"**                     |
   +-----------------------+-----------------------+------------------------------------+

.. _listoplogs__response_opextendinfocommon:

.. table:: **Table 9** OpExtendInfoCommon

   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                         |
   +=======================+=======================+=====================================================================+
   | progress              | Integer               | Progress of the query task. The value ranges from **0** to **100**. |
   |                       |                       |                                                                     |
   |                       |                       | Minimum: **0**                                                      |
   |                       |                       |                                                                     |
   |                       |                       | Maximum: **100**                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | request_id            | String                | Request ID                                                          |
   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | task_id               | String                | Backup task ID                                                      |
   +-----------------------+-----------------------+---------------------------------------------------------------------+

.. _listoplogs__response_opextendinfodelete:

.. table:: **Table 10** OpExtendInfoDelete

   =========== ====== ===========
   Parameter   Type   Description
   =========== ====== ===========
   backup_id   String Backup ID
   backup_name String Backup name
   =========== ====== ===========

.. _listoplogs__response_opextendinfosync:

.. table:: **Table 11** OpExtendInfoSync

   +---------------------+---------+--------------------------------------------------+
   | Parameter           | Type    | Description                                      |
   +=====================+=========+==================================================+
   | sync_backup_num     | Integer | Number of synchronized backups                   |
   +---------------------+---------+--------------------------------------------------+
   | delete_backup_num   | Integer | Number of deleted backups                        |
   +---------------------+---------+--------------------------------------------------+
   | err_sync_backup_num | Integer | Number of backups that failed to be synchronized |
   +---------------------+---------+--------------------------------------------------+

.. _listoplogs__response_opextendinforemoveresources:

.. table:: **Table 12** OpExtendInfoRemoveResources

   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | Parameter   | Type                                                             | Description                                 |
   +=============+==================================================================+=============================================+
   | fail_count  | Integer                                                          | Number of resources that fail to be deleted |
   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | total_count | Integer                                                          | Number of deleted backups                   |
   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | resources   | Array of :ref:`Resource <listoplogs__response_resource>` objects | Resource information                        |
   +-------------+------------------------------------------------------------------+---------------------------------------------+

.. _listoplogs__response_resource:

.. table:: **Table 13** Resource

   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                     | Description                                                                                                            |
   +=======================+==========================================================================+========================================================================================================================+
   | extra_info            | :ref:`ResourceExtraInfo <listoplogs__response_resourceextrainfo>` object | Vault name                                                                                                             |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                                   | ID of the vault resource type                                                                                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                   | Name of the resource to be backed up. The value consists of 0 to 255 characters.                                       |
   |                       |                                                                          |                                                                                                                        |
   |                       |                                                                          | Minimum: **0**                                                                                                         |
   |                       |                                                                          |                                                                                                                        |
   |                       |                                                                          | Maximum: **255**                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | type                  | String                                                                   | Type of the resource to be backed up, which can be **OS::Nova::Server**, **OS::Cinder::Volume**, or **OS::Sfs::Turbo** |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+

.. _listoplogs__response_resourceextrainfo:

.. table:: **Table 14** ResourceExtraInfo

   +-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Type             | Description                                                                                                                                                                                                                                                                                 |
   +=================+==================+=============================================================================================================================================================================================================================================================================================+
   | exclude_volumes | Array of strings | IDs of the disks that will not be backed up. This parameter is used when servers are added to a vault, which include all server disks. But some disks do not need to be backed up. Or in case that a server was previously added and some disks on this server do not need to be backed up. |
   +-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. _listoplogs__response_opextendinforestore:

.. table:: **Table 15** OpExtendInfoRestore

   ==================== ====== ===================================
   Parameter            Type   Description
   ==================== ====== ===================================
   backup_id            String Backup ID
   backup_name          String Backup name
   target_resource_id   String ID of the resource to be restored
   target_resource_name String Name of the resource to be restored
   ==================== ====== ===================================

.. _listoplogs__response_opextendinfovaultdelete:

.. table:: **Table 16** OpExtendInfoVaultDelete

   +-------------+---------+----------------------------------------------------------+
   | Parameter   | Type    | Description                                              |
   +=============+=========+==========================================================+
   | fail_count  | Integer | Number of resources that fail to be deleted in this task |
   +-------------+---------+----------------------------------------------------------+
   | total_count | Integer | Number of backups deleted in this task                   |
   +-------------+---------+----------------------------------------------------------+

**Status code: 404**

.. table:: **Table 17** Response body parameters

   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | Parameter             | Type                                                                     | Description                              |
   +=======================+==========================================================================+==========================================+
   | operation_logs        | Array of :ref:`OperationLog <listoplogs__response_operationlog>` objects | Task list                                |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | count                 | Integer                                                                  | Number of tasks                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | limit                 | Integer                                                                  | Number of records displayed on each page |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Minimum: **1**                           |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Maximum: **1000**                        |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Default: **1000**                        |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+
   | offset                | Integer                                                                  | Offset where the query starts            |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Minimum: **0**                           |
   |                       |                                                                          |                                          |
   |                       |                                                                          | Default: **0**                           |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------+

.. table:: **Table 18** OperationLog

   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | Parameter             | Type                                                         | Description                                                                       |
   +=======================+==============================================================+===================================================================================+
   | checkpoint_id         | String                                                       | Backup record ID                                                                  |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | created_at            | String                                                       | Creation time, for example, **2020-02-23T01:00:32Z**                              |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | ended_at              | String                                                       | Task end time, for example, **2020-02-23T01:00:32Z**                              |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | error_info            | :ref:`OpErrorInfo <listoplogs__response_operrorinfo>` object | Task error message                                                                |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | extra_info            | :ref:`OpExtraInfo <listoplogs__response_opextrainfo>` object | Task extension information                                                        |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | id                    | String                                                       | Task ID                                                                           |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | operation_type        | String                                                       | Task type                                                                         |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | Enumeration values:                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **backup**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **restore**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **delete**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **vault_delete**                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **remove_resource**                                                            |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | policy_id             | String                                                       | Policy ID                                                                         |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | project_id            | String                                                       | Project ID                                                                        |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | provider_id           | String                                                       | Backup provider ID, which specifies whether the backup object is a server or disk |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | started_at            | String                                                       | Task start time, for example, **2020-02-23T01:00:32Z**                            |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | status                | String                                                       | Task status                                                                       |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | Enumeration values:                                                               |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **success**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **skipped**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **failed**                                                                     |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **running**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **timeout**                                                                    |
   |                       |                                                              |                                                                                   |
   |                       |                                                              | -  **waiting**                                                                    |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | updated_at            | String                                                       | Modification time, for example, **2020-02-23T01:00:32Z**                          |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | vault_id              | String                                                       | ID of the vault with which the target resource is associated                      |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+
   | vault_name            | String                                                       | Name of the vault with which the target resource is associated                    |
   +-----------------------+--------------------------------------------------------------+-----------------------------------------------------------------------------------+

.. table:: **Table 19** OpErrorInfo

   ========= ====== ================================================
   Parameter Type   Description
   ========= ====== ================================================
   code      String For details, see :ref:`Error Codes <errorcode>`.
   message   String Error message
   ========= ====== ================================================

.. table:: **Table 20** OpExtraInfo

   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | Parameter        | Type                                                                                         | Description                                            |
   +==================+==============================================================================================+========================================================+
   | backup           | :ref:`OpExtendInfoBckup <listoplogs__response_opextendinfobckup>` object                     | Extended parameters of backup                          |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | common           | :ref:`OpExtendInfoCommon <listoplogs__response_opextendinfocommon>` object                   | Common parameters                                      |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | delete           | :ref:`OpExtendInfoDelete <listoplogs__response_opextendinfodelete>` object                   | Extended parameters of deletion                        |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | sync             | :ref:`OpExtendInfoSync <listoplogs__response_opextendinfosync>` object                       | Extended parameters of synchronization                 |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | remove_resources | :ref:`OpExtendInfoRemoveResources <listoplogs__response_opextendinforemoveresources>` object | Extended parameters of removing resources from a vault |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | resource         | :ref:`Resource <listoplogs__response_resource>` object                                       | Resource information                                   |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | restore          | :ref:`OpExtendInfoRestore <listoplogs__response_opextendinforestore>` object                 | Extended parameters of restoration                     |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+
   | vault_delete     | :ref:`OpExtendInfoVaultDelete <listoplogs__response_opextendinfovaultdelete>` object         | Extended parameters of deleting a vault                |
   +------------------+----------------------------------------------------------------------------------------------+--------------------------------------------------------+

.. table:: **Table 21** OpExtendInfoBckup

   +-----------------------+-----------------------+------------------------------------+
   | Parameter             | Type                  | Description                        |
   +=======================+=======================+====================================+
   | backup_id             | String                | Backup ID                          |
   +-----------------------+-----------------------+------------------------------------+
   | backup_name           | String                | Backup name                        |
   +-----------------------+-----------------------+------------------------------------+
   | incremental           | String                | Whether incremental backup is used |
   |                       |                       |                                    |
   |                       |                       | Enumeration values:                |
   |                       |                       |                                    |
   |                       |                       | -  **"true"**                      |
   |                       |                       |                                    |
   |                       |                       | -  **"false"**                     |
   +-----------------------+-----------------------+------------------------------------+

.. table:: **Table 22** OpExtendInfoCommon

   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | Parameter             | Type                  | Description                                                         |
   +=======================+=======================+=====================================================================+
   | progress              | Integer               | Progress of the query task. The value ranges from **0** to **100**. |
   |                       |                       |                                                                     |
   |                       |                       | Minimum: **0**                                                      |
   |                       |                       |                                                                     |
   |                       |                       | Maximum: **100**                                                    |
   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | request_id            | String                | Request ID                                                          |
   +-----------------------+-----------------------+---------------------------------------------------------------------+
   | task_id               | String                | Backup task ID                                                      |
   +-----------------------+-----------------------+---------------------------------------------------------------------+

.. table:: **Table 23** OpExtendInfoDelete

   =========== ====== ===========
   Parameter   Type   Description
   =========== ====== ===========
   backup_id   String Backup ID
   backup_name String Backup name
   =========== ====== ===========

.. table:: **Table 24** OpExtendInfoSync

   +---------------------+---------+--------------------------------------------------+
   | Parameter           | Type    | Description                                      |
   +=====================+=========+==================================================+
   | sync_backup_num     | Integer | Number of synchronized backups                   |
   +---------------------+---------+--------------------------------------------------+
   | delete_backup_num   | Integer | Number of deleted backups                        |
   +---------------------+---------+--------------------------------------------------+
   | err_sync_backup_num | Integer | Number of backups that failed to be synchronized |
   +---------------------+---------+--------------------------------------------------+

.. table:: **Table 25** OpExtendInfoRemoveResources

   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | Parameter   | Type                                                             | Description                                 |
   +=============+==================================================================+=============================================+
   | fail_count  | Integer                                                          | Number of resources that fail to be deleted |
   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | total_count | Integer                                                          | Number of deleted backups                   |
   +-------------+------------------------------------------------------------------+---------------------------------------------+
   | resources   | Array of :ref:`Resource <listoplogs__response_resource>` objects | Resource information                        |
   +-------------+------------------------------------------------------------------+---------------------------------------------+

.. table:: **Table 26** Resource

   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | Parameter             | Type                                                                     | Description                                                                                                            |
   +=======================+==========================================================================+========================================================================================================================+
   | extra_info            | :ref:`ResourceExtraInfo <listoplogs__response_resourceextrainfo>` object | Vault name                                                                                                             |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | id                    | String                                                                   | ID of the vault resource type                                                                                          |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | name                  | String                                                                   | Name of the resource to be backed up. The value consists of 0 to 255 characters.                                       |
   |                       |                                                                          |                                                                                                                        |
   |                       |                                                                          | Minimum: **0**                                                                                                         |
   |                       |                                                                          |                                                                                                                        |
   |                       |                                                                          | Maximum: **255**                                                                                                       |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+
   | type                  | String                                                                   | Type of the resource to be backed up, which can be **OS::Nova::Server**, **OS::Cinder::Volume**, or **OS::Sfs::Turbo** |
   +-----------------------+--------------------------------------------------------------------------+------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 27** ResourceExtraInfo

   +-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
   | Parameter       | Type             | Description                                                                                                                                                                                                                                                                                 |
   +=================+==================+=============================================================================================================================================================================================================================================================================================+
   | exclude_volumes | Array of strings | IDs of the disks that will not be backed up. This parameter is used when servers are added to a vault, which include all server disks. But some disks do not need to be backed up. Or in case that a server was previously added and some disks on this server do not need to be backed up. |
   +-----------------+------------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

.. table:: **Table 28** OpExtendInfoRestore

   ==================== ====== ===================================
   Parameter            Type   Description
   ==================== ====== ===================================
   backup_id            String Backup ID
   backup_name          String Backup name
   target_resource_id   String ID of the resource to be restored
   target_resource_name String Name of the resource to be restored
   ==================== ====== ===================================

.. table:: **Table 29** OpExtendInfoVaultDelete

   +-------------+---------+----------------------------------------------------------+
   | Parameter   | Type    | Description                                              |
   +=============+=========+==========================================================+
   | fail_count  | Integer | Number of resources that fail to be deleted in this task |
   +-------------+---------+----------------------------------------------------------+
   | total_count | Integer | Number of backups deleted in this task                   |
   +-------------+---------+----------------------------------------------------------+

Example Requests
----------------

.. code-block:: text

   GET https://{endpoint}/v3/{project_id}/operation-logs

Example Responses
-----------------

**Status code: 200**

OK

.. code-block::

   {
     "count" : 1,
     "operation_logs" : [ {
       "status" : "success",
       "provider_id" : "0daac4c5-6707-4851-97ba-169e36266b66",
       "checkpoint_id" : "b432511f-d889-428f-8b0e-5f47c524c6b6",
       "updated_at" : "2019-05-23T14:35:23.584418",
       "error_info" : {
         "message" : "",
         "code" : ""
       },
       "vault_id" : null,
       "started_at" : "2019-05-23T14:31:36.007230",
       "id" : "4827f2da-b008-4507-ab7d-42d0df5ed912",
       "extra_info" : {
         "resource" : {
           "type" : "OS::Nova::Server",
           "id" : "1dab32fa-ebf2-415a-ab0b-eabe6353bc86",
           "name" : "ECS-0001"
         },
         "backup" : {
           "backup_name" : "manualbk_backup",
           "backup_id" : "0e5d0ef6-7f0a-4890-b98c-cb12490e31c1"
         },
         "common" : {
           "progress" : 100,
           "request_id" : "req-cdb98cc4-e87b-4f40-9b4a-57ec036620bc"
         }
       },
       "ended_at" : "2019-05-23T14:35:23.511155",
       "created_at" : "2019-05-23T14:31:36.039365",
       "operation_type" : "backup",
       "vault_name" : null,
       "project_id" : "04f1829c788037ac2fb8c01eb2b04b95",
       "policy_id" : null
     } ]
   }

Status Codes
------------

=========== ===========
Status Code Description
=========== ===========
200         OK
404         Not Found
=========== ===========

Error Codes
-----------

See :ref:`Error Codes <errorcode>`.
